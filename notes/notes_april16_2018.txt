
#install bedtools, pybedtools with conda

conda install -c bioconda bedtools

Instaled packages:
    bedtools: 2.27.1-1         bioconda
    libgcc:   7.2.0-h69d50b8_2

conda install -c bioconda pybedtools

Instaled packages:
    bcftools:   1.7-0                   bioconda
    htslib:     1.7-0                   bioconda
    pybedtools: 0.7.10-py36_2           bioconda
    pysam:      0.14.1-py36_htslib1.7_0 bioconda
    samtools:   1.7-1                   bioconda




# downlowd vcf file from 
ftp://ftp.ncbi.nlm.nih.gov/pub/dbVar/data/Homo_sapiens/by_assembly/GRCh38/vcf/

wget ftp://ftp.ncbi.nlm.nih.gov/pub/dbVar/data/Homo_sapiens/by_assembly/GRCh38/vcf/GRCh38.variant_call.vcf.gz


    
    
download SNP from ExAC:
http://exac.broadinstitute.org/downloads

ftp://ftp.broadinstitute.org/pub/ExAC_release/release1/




download SNPs from dbSNP from:
https://www.ncbi.nlm.nih.gov/genome/guide/human/

ftp://ftp.ncbi.nlm.nih.gov/refseq/H_sapiens/annotation/GRCh38_latest/refseq_identifiers/GRCh38_latest_dbSNP_all.vcf.gz



dbDNV data from:
http://goods.ibms.sinica.edu.tw/DNVs/index.html


ad rs into column 7
awk -v OFS="\t" '$7>0 {print $1,$2,$3,$4,$5,$6,"rs"$7}'  variant_loc_rs > dbDNV_rsNumber.txt

# pull rs number column
cat ../dnv/dbDNV_rsNumber.txt | cut -f 7 > rsNumber.txt

# check rs number that are multiple times in file
sort rsNumber.txt | uniq -c | sort -r > uniq_re_counts.txt

# uniq rs numbers
sort -u rsNumber.txt > rsNumber_uniq.txt


# unzip VCF file
gunzip GRCh38_latest_dbSNP_all.vcf.gz

# try to run fgrep but it kept crushing 
LC_ALL=C fgrep -w -f rsNumber.txt GRCh38_latest_dbSNP_all.vcf > GRCh38_latest_dbSNP_all_DNV.vcf

# write short python script "parseRS.py" that parse big file line by line and look up rs by set query (pretty fast)
parseRS.py rsNumber_uniq.txt GRCh38_latest_dbSNP_all.vcf > GRCh38_latest_dbSNP_all_DNV_2nd.vcf

